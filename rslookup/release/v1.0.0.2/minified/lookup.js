!function(){function n(){$("#input-user").focus(),t(),i()}function t(){C.loadingControls.push($("#input-user"))}function i(){$("#input-user").keyup(function(n){13==n.keyCode&&e()})}function e(){var n=$("#input-user").val();o(n)&&s(n)}function o(n){return!(!n||""===n)}function s(n){g(),a(),$.get(C.rs3HiscoresApi+n,r).fail(l)}function r(n){var t=m(n);k(t),c(),u(t),$("#input-user").select()}function l(){c(),$("#input-user").select()}function a(){1==++C.loadingCount&&p()}function c(){0==--C.loadingCount&&h()}function u(n){$("#skill-section").removeClass("collapsed"),$(".skill-col").removeClass("collapsed"),f(n)}function g(){$("#skill-section").addClass("collapsed"),$(".skill-col").addClass("collapsed")}function f(n){d("attack",n),d("strength",n),d("defence",n),d("ranged",n),d("prayer",n),d("magic",n),d("runecrafting",n),d("construction",n),d("dungeoneering",n),d("constitution",n),d("agility",n),d("herblore",n),d("thieving",n),d("crafting",n),d("fletching",n),d("slayer",n),d("hunting",n),d("divination",n),d("mining",n),d("smithing",n),d("fishing",n),d("cooking",n),d("firemaking",n),d("woodcutting",n),d("farming",n),d("summoning",n)}function d(n,t){$($("#"+n+" .skill-level")[0]).text(t.stats[n].level.toString())}function h(){v(!0)}function p(){v(!1)}function v(n){for(var t=0;t<C.loadingControls.length;t++)C.loadingControls[t].prop("disabled",!n)}function m(n){var t={stats:{}},i=["overall","attack","defence","strength","constitution","ranged","prayer","magic","cooking","woodcutting","fletching","fishing","firemaking","crafting","smithing","mining","herblore","agility","thieving","slayer","farming","runecrafting","hunting","construction","summoning","dungeoneering","divination","invention"],e=n.trim().split(/\s+/);if(e.length<i.length)throw"Expected user values to be at least the length of the statNamesArray";for(var o=0;o<i.length;o++){var s=i[o],r=e[o].split(",");t.stats[s]={},t.stats[s].rank=r[0],t.stats[s].level=r[1],t.stats[s].experience=r[2]}return t}function k(n){window.console&&console.log(n)}var C=this;C.loadingCount=0,C.loadingControls=[],C.rs3HiscoresApi="http://services.runescape.com/m=hiscore/index_lite.ws?player=",document.addEventListener("DOMContentLoaded",function(){n()})}();